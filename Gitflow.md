`ğŸ˜€çœ‹äº†å»–è€å¸ˆçš„gitæ•™ç¨‹æ„Ÿè§‰å¾ˆä¸é”™,å†™äº†ä¸€ä¸ªç®€å•çš„gitæµç¨‹å¸®åŠ©ç†è§£è®°å¿†`

#### Git æµç¨‹

##### åˆ›å»ºæœ¬åœ°ä»“åº“

```js
$ mkdir learn//make directory[ç›®å½•]åˆ›å»ºç‰ˆæœ¬åº“ 
$ cd learn//change directoryåˆ‡æ¢ç‰ˆæœ¬åº“ç›®å½• 
$ git init//initialize[åˆå§‹åŒ–]æŠŠè¿™ä¸ªç›®å½•å˜æˆGitå¯ä»¥ç®¡ç†çš„ä»“åº“
â†’Initialized empty Git repository[ä»“åº“] in /Users/michael/learn/.git/
//åˆ›å»ºä¸€ä¸ªreadme.txtæ–‡ä»¶,ç¼–è¾‘å†…å®¹åä¿å­˜
$ git add readme.txt//æŠŠæ–‡ä»¶ä¿®æ”¹æ·»åŠ åˆ°æš‚å­˜åŒº  
$ git commit -m "wrote a readme file"//æŠŠæš‚å­˜åŒºçš„æ‰€æœ‰å†…å®¹æäº¤åˆ°å½“å‰åˆ†æ”¯
//å¥½çš„,æˆ‘ä»¬ç°åœ¨å®Œæˆäº†ç¬¬ä¸€æ­¥æ“ä½œå’¯!
```

![ğŸ˜‚çœ‹ä¸è§å›¾ç‰‡æˆ‘ä¹Ÿå¾ˆæ— å¥ˆå‘€](situation.png)

```js
//è¿™ä¸‰ä¸ªå‘½ä»¤æ˜¯æŸ¥çœ‹çŠ¶æ€ä¸ä¹‹å‰åŒºåˆ«çš„
$ git status//è®©æˆ‘ä»¬æ—¶åˆ»æŒæ¡ä»“åº“å½“å‰çš„çŠ¶æ€
$ git diff readme.txt//æŸ¥çœ‹readme.txtå…·ä½“ä¿®æ”¹äº†ä»€ä¹ˆå†…å®¹
$ cat readme.txt//æŸ¥çœ‹readme.txtå†…å®¹ 

//ä¸‹é¢ä¸‰ä¸ªå‘½ä»¤æ˜¯æŸ¥çœ‹æäº¤å†å²å’Œå‘½ä»¤å†å²çš„
$ git log//æŸ¥çœ‹æäº¤å†å²
$ git reflog//æŸ¥çœ‹å‘½ä»¤å†å²    
$ git log -- pretty=oneline //åŠ ä¸Šå‚æ•°å¯ä»¥è®©è¾“å‡ºæ›´æ¸…æ™°
$ git log --graph --pretty=oneline --abbrev-commit//----graphæ˜¯graphicçš„ç¼©å†™[å›¾å½¢æ˜¾ç¤º] abbreviate-commit[ç¼©å†™çš„commit-id](è¿™ä¸ªå°±æ˜¯åŠ å¼ºç‰ˆçš„æ¸…æ™°äº†)
```



##### è¿œç¨‹ä»“åº“æ„å»º

```c
//é…ç½®èº«ä»½
$ git config --global user.name "yourname"
$ git config --global user.email "your@email.com"
//è¿™é‡Œçš„yournameä¸githubçš„ç”¨æˆ·åä¸€è‡´,your@email.comä¸githubç™»å½•é‚®ç®±ä¸€è‡´

$ ssh-keygen -t rsa -C "Comment" //åˆ›å»ºSSH Key
//æœ¬åœ°Gitä»“åº“å’ŒGitHubä»“åº“ä¹‹é—´çš„ä¼ è¾“æ˜¯é€šè¿‡SSHåŠ å¯†çš„,æ‰€ä»¥æˆ‘ä»¬éœ€è¦æ–°å»ºä¸€ä¸ªSSH Key
//----SSH(Secure Shell)ä¸“ä¸ºè¿œç¨‹ç™»é™†ä¼šè¯å’Œå…¶ä»–ç½‘ç»œæœåŠ¡æä¾›å®‰å…¨æ€§çš„åè®®
//----(keygenæ˜¯keyGeneratoræ³¨å†Œæœºçš„ç¼©å†™  -té€‰æ‹©å¯†é’¥ç±»å‹type  -Cè¯†åˆ«è¿™ä¸ªå¯†é’¥çš„æ³¨é‡ŠComment) 
//----rsaå’Œdsaæ˜¯ä¸¤ç§åŠ å¯†ç®—æ³•ã€‚dsaæ˜¯åŠ /è§£é€Ÿåº¦å¿«,å¯†é’¥é‡çŸ­çš„å¯¹ç§°åŠ å¯†ï¼›rsaç®—æ³•å¤æ‚,åŠ /è§£é€Ÿåº¦æ…¢,éå¯¹ç§°åŠ å¯†ã€‚

$ cd ~/.ssh//è¿›å…¥.sshç›®å½•
//~ è¡¨ç¤ºå½“å‰ç”¨æˆ·çš„ home ç›®å½•,å±•å¼€å³ä¸º /home/ç”¨æˆ·å
//cd ..åˆ™è¡¨ç¤ºç›®å‰ç›®å½•ä½ç½®çš„ä¸Šä¸€å±‚ç›®å½•,å¦‚æœæ„Ÿå…´è¶£å¯ä»¥è‡ªè¡Œæœç´¢æ›´å¤šå‘½ä»¤ 
$ ls//(lsæ˜¯List directory contentsç¼©å†™,åˆ—å‡ºç›®å½•å†…å®¹)  
â†’(id_rsa.pub id_rsa ..)
$ cat id_rsa.pub// å°†æ–‡ä»¶å†…å®¹æ‰“å°æ˜¾ç¤º(print and concatenate[è¿é”]files)
//æœ€åå°†è¿™æ®µåè®®å£ä»¤åœ¨GitHubé‡Œè®¾ç½®(è‡ªè¡Œæœç´¢å¦‚ä½•è®¾ç½®)
```

```js
//æ·»åŠ è¿œç¨‹åº“(æ·»åŠ ä¹‹å‰ä½ å¾—åœ¨GitHubä¸Šè‡ªè¡Œåˆ›å»ºä¸€ä¸ªåº“)
$ git remote add origin git@github.com:mengbaodouchi/learn.git//è¿˜æœ‰httpsåè®®çš„,ä½†è¿™ä¸ªæ›´å¿«æ›´å®‰å…¨
//remote[è¿œç¨‹] è¿œç¨‹åº“çš„åå­—å°±æ˜¯origin,è¿™æ˜¯Gité»˜è®¤çš„å«æ³•,ä¹Ÿå¯ä»¥æ”¹æˆåˆ«çš„git
$ git remote -v  //æŸ¥çœ‹å½“å‰è¿œç¨‹ä»“åº“å(-væ˜¯version)
$ git remote rm origin//åˆ é™¤å½“å‰è¿œç¨‹ä»“åº“å (å¦‚æœä½ è§‰å¾—è¿™åä¸å¥½å¬çš„è¯)
$ git push -u origin master //----ç”¨git pushå‘½ä»¤,å®é™…ä¸Šæ˜¯æŠŠå½“å‰åˆ†æ”¯masteræ¨é€åˆ°è¿œç¨‹ã€‚ç¬¬ä¸€æ¬¡æ¨é€masteråˆ†æ”¯æ—¶,åŠ ä¸Šäº†-uå‚æ•°,Gitä¸ä½†ä¼šæŠŠæœ¬åœ°çš„masteråˆ†æ”¯å†…å®¹æ¨é€çš„è¿œç¨‹æ–°çš„masteråˆ†æ”¯,è¿˜ä¼šæŠŠæœ¬åœ°çš„masteråˆ†æ”¯å’Œè¿œç¨‹çš„masteråˆ†æ”¯å…³è”èµ·æ¥,åœ¨ä»¥åçš„æ¨é€æˆ–è€…æ‹‰å–æ—¶å°±å¯ä»¥ç®€åŒ–å‘½ä»¤ã€‚

/ /æˆ‘æ›¾ç»åœ¨æ¨é€æ—¶é‡åˆ°è¿‡é“¾æ¥è¶…æ—¶çš„é—®é¢˜:connect to host github.com port22:Connection timed out/
//é¦–å…ˆæ‰¾åˆ°gitçš„å®‰è£…ç›®å½•,æ‰¾åˆ°/etc/ssh/ssh_configæ–‡ä»¶,ç”¨notepad++æ‰“å¼€è¿™ä¸ªæ–‡ä»¶,å¹¶æŠŠä¸‹é¢ä¸€æ®µè¯å¤åˆ¶åˆ°æœ€åä¸€è¡Œå¹¶ä¿å­˜,æœ€åä½¿ç”¨git push -u origin masteréªŒè¯ç»“æœ
```

```c
Host github.com
User git
Hostname ssh.github.com
PreferredAuthentications publickey
IdentityFile ~/.ssh/id_rsa
Port 443
```



```c
//cloneè¿œç¨‹ä»“åº“(GitHub)åœ¨ä½ çš„æ ¹ç›®å½•ä¸‹å…‹éš†
$ git clone https://github.com/mengbaodouchi/learn.git
$ git clone git@github.com:mengbaodouchi/learn.git
//ä¸¤ä¸ªåè®®éƒ½å†™äº†,è‡³äºä½ æœ€ç»ˆé€‰æ‹©ä»€ä¹ˆéšä½ è‡ªå·±å•¦!
```



##### æ—¶å…‰ç©¿æ¢­

```js
//æ’¤é”€ä¿®æ”¹
$ git restore -- readme.txt   //ä½œç”¨äºè¿˜æœªæ”¾åˆ°æš‚å­˜åŒº(å°šæœªadd)
$ git reset HEAD readme.txt   //ä½œç”¨äºè¿˜æœªæäº¤åˆ°åˆ†æ”¯(å°šæœªcommit)
//ç‰ˆæœ¬å›é€€
$ git reset --hard HEAD^    //å›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬
$ git reset --hard HEAD^^   //å›é€€åˆ°ä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬
$ git reset --hard HEAD~100 //å›é€€åˆ°ä¸Š100ä¸ªç‰ˆæœ¬
$ git reset --hard 1094a//å›é€€åˆ°æœªæ¥æŸä¸ªç‰ˆæœ¬(å¯¹çš„,å°±æ˜¯ä¹‹å‰æˆ‘ä»¬ç”¨git logå¾—åˆ°çš„commit-idç¼–å·)
//åˆ é™¤æ–‡ä»¶
$ git rm readme.txt       	   //ä»ç‰ˆæœ¬åº“ä¸­åˆ é™¤è¯¥æ–‡ä»¶(å¦‚æœåªç”¨ rm readme.txté‚£å°±éšæ—¶å¯ä»¥æ¢å¤æäº¤è¿‡çš„æ–‡ä»¶ï¼‰
$ git commit -m "remove test.txt"//æäº¤æœ¬æ¬¡ä¿®æ”¹
//å‘½ä»¤git rmç”¨äºåˆ é™¤ä¸€ä¸ªæ–‡ä»¶ã€‚å¦‚æœä¸€ä¸ªæ–‡ä»¶å·²ç»è¢«æäº¤åˆ°ç‰ˆæœ¬åº“,é‚£ä¹ˆä½ æ°¸è¿œä¸ç”¨æ‹…å¿ƒè¯¯åˆ ,ä½†æ˜¯åªèƒ½æ¢å¤æ–‡ä»¶åˆ°æœ€æ–°ç‰ˆæœ¬,ä½ ä¼šä¸¢å¤±æœ€è¿‘ä¸€æ¬¡æäº¤åä½ ä¿®æ”¹çš„å†…å®¹ã€‚
```

##### åˆ†æ”¯ç®¡ç†

```js
//åˆ†æ”¯æ˜¯Gitæœ€æ ¸å¿ƒçš„éƒ¨åˆ†
$ git switch -c dev//åˆ›å»ºå¹¶åˆ‡æ¢,ç›¸å½“äºä»¥ä¸‹ä¸¤æ¡å‘½ä»¤
$ git branch dev//åˆ›å»º
$ git switch dev//åˆ‡æ¢    
$ git branch//æŸ¥çœ‹å½“å‰åˆ†æ”¯
$ git branch -d dev//åˆ é™¤devåˆ†æ”¯  
$ git branch -D dev//å¼ºåŠ¿åˆ é™¤æœªä¿å­˜çš„devåˆ†æ”¯     
    
$ git merge dev//åˆå¹¶åˆ†æ”¯(åˆå¹¶åˆ†æ”¯å¾€å¾€å¹¶ä¸é¡ºåˆ©,éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨è§£å†³å†²çªè½½æäº¤ä¿å­˜)
$ git merge --no-ff -m "merge with no-ff" dev  //----ç¦ç”¨Fast forward,åˆå¹¶devåˆ†æ”¯.æœ¬æ¬¡åˆå¹¶è¦åˆ›å»ºä¸€ä¸ªæ–°çš„commit,æ‰€ä»¥åŠ ä¸Š-må‚æ•°,æŠŠcommitæè¿°å†™è¿›å»  

//ç°åœ¨ä½“ä¼šä¸€ä¸‹(git log --graph --pretty=oneline --abbrev-commit) çš„ç”¨å¤„å§!   
  
```

##### æ ‡ç­¾ç®¡ç†

```js
//æ ‡ç­¾å¾ˆæ–¹ä¾¿
$ git tag v1.0//æ‰“ä¸Šæ ‡ç­¾(åˆ‡æ¢åˆ°éœ€è¦æ‰“æ ‡ç­¾çš„åˆ†æ”¯git switch master)
$ git tag v0.9 f52c6//æ‰“ä¸Šæ ‡ç­¾(ç›´æ¥ç»™æŸæ¬¡æäº¤æ‰“ä¸Šæ ‡ç­¾)
$ git tag -a v0.1 -m "version 0.1 released" 1094adb//(-aæŒ‡å®šæ ‡ç­¾å,-mæŒ‡å®šè¯´æ˜æ–‡å­—)
$ git tag//æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾
$ git tag -d v0.1//åˆ é™¤æ ‡ç­¾

$ git push origin v1.0 //æ¨é€æŸä¸ªæ ‡ç­¾åˆ°è¿œç¨‹
$ git push origin --tags//ä¸€æ¬¡æ€§æ¨é€å…¨éƒ¨å°šæœªæ¨é€åˆ°è¿œç¨‹çš„æœ¬åœ°æ ‡ç­¾
//å¦‚æœæ ‡ç­¾å·²ç»æ¨é€åˆ°è¿œç¨‹,è¦åˆ é™¤è¿œç¨‹æ ‡ç­¾å°±éº»çƒ¦ä¸€ç‚¹,å…ˆä»æœ¬åœ°åˆ é™¤,ç„¶åä»è¿œç¨‹åˆ é™¤
$ git push origin :refs/tags/v0.9
```

##### äº‹æ€¥ä»æƒ

```js
$ git stash   //Gitæä¾›äº†ä¸€ä¸ªstashåŠŸèƒ½,å¯ä»¥æŠŠå½“å‰å·¥ä½œç°åœºâ€œå‚¨è—â€èµ·æ¥,ç­‰ä»¥åæ¢å¤ç°åœºåç»§ç»­å·¥ä½œ
    git switch master//å›åˆ°ä¸»åˆ†æ”¯
    git switch -c issue-101//åˆ›å»ºåˆ†æ”¯
    git add readme.txt 
    git commit -m "fix bug 101" 
    git switch master //ä¿®å¤å®Œæˆå,åˆ‡æ¢åˆ°masteråˆ†æ”¯
    git merge --no-ff -m "merged bug fix 101" issue-101//å®Œæˆåˆå¹¶,æœ€ååˆ é™¤issue-101åˆ†æ”¯
    git switch dev//æ¥ç€å›åˆ°devåˆ†æ”¯å¹²æ´»
$ git stash list  //æŸ¥çœ‹stashè®°å½•
$ git stash pop stash@{0}//æ¢å¤çš„åŒæ—¶æŠŠstashå†…å®¹ä¹Ÿåˆ äº†
$ git stash apply stash@{0}//æ¢å¤å,stashå†…å®¹å¹¶ä¸åˆ é™¤
$ git stash drop stash@{0}//åˆ é™¤stash
//å¯ä»¥å¤šæ¬¡stash,æ¢å¤çš„æ—¶å€™,å…ˆç”¨git stash listæŸ¥çœ‹,ç„¶åæ¢å¤æŒ‡å®šçš„stash


/ /åŒæ ·çš„bug,è¦åœ¨devä¸Šä¿®å¤,æˆ‘ä»¬åªéœ€è¦æŠŠ4c805 fix bug 101è¿™ä¸ªæäº¤æ‰€åšçš„ä¿®æ”¹â€œå¤åˆ¶â€åˆ°devåˆ†æ”¯ã€‚æ³¨æ„ï¼šæˆ‘ä»¬åªæƒ³å¤åˆ¶4c805 fix bug 101è¿™ä¸ªæäº¤æ‰€åšçš„ä¿®æ”¹,å¹¶ä¸æ˜¯æŠŠæ•´ä¸ªmasteråˆ†æ”¯mergeè¿‡æ¥/
$ git cherry-pick 4c805
```

##### å¤šäººåä½œ

```c
//å¤šäººåä½œæ—¶,å¤§å®¶éƒ½ä¼šå¾€masterå’Œdevåˆ†æ”¯ä¸Šæ¨é€å„è‡ªçš„ä¿®æ”¹ã€‚
//ä½ çš„å°ä¼™ä¼´åˆšå…¥èŒæƒ³è¦åœ¨devåˆ†æ”¯ä¸Šå¼€å‘,å°±å¿…é¡»åˆ›å»ºè¿œç¨‹originçš„devåˆ†æ”¯åˆ°æœ¬åœ°,äºæ˜¯ä»–ç”¨è¿™ä¸ªå‘½ä»¤åˆ›å»ºæœ¬åœ°devåˆ†æ”¯
$ git switch -c dev origin/dev
    git add env.txt
    git commit -m "add env"
$ git push origin <branch-name>//æ¨é€è‡ªå·±çš„ä¿®æ”¹
//ä½ çš„å°ä¼™ä¼´å·²ç»å‘origin/devåˆ†æ”¯æ¨é€äº†ä»–çš„æäº¤,è€Œç¢°å·§ä½ ä¹Ÿå¯¹åŒæ ·çš„æ–‡ä»¶ä½œäº†ä¿®æ”¹,å¹¶è¯•å›¾æ¨é€
//æ¨é€å¤±è´¥,å› ä¸ºä½ çš„å°ä¼™ä¼´çš„æœ€æ–°æäº¤å’Œä½ è¯•å›¾æ¨é€çš„æäº¤æœ‰å†²çª,è§£å†³åŠæ³•ä¹Ÿå¾ˆç®€å•,Gitå·²ç»æç¤ºæˆ‘ä»¬,å…ˆç”¨git pullæŠŠæœ€æ–°çš„æäº¤ä»origin/devæŠ“ä¸‹æ¥,ç„¶å,åœ¨æœ¬åœ°åˆå¹¶,è§£å†³å†²çª,å†æ¨é€
$ git pull
//git pullä¹Ÿå¤±è´¥äº†,åŸå› æ˜¯æ²¡æœ‰æŒ‡å®šæœ¬åœ°devåˆ†æ”¯ä¸è¿œç¨‹origin/devåˆ†æ”¯çš„é“¾æ¥,ä½ æ€»ä¸èƒ½è®©å¯¹æ–¹ä¿®æ”¹åçš„ç©æ„ç›´æ¥è¦†ç›–ä½ è¾›è¾›è‹¦è‹¦å†™çš„ä»£ç å§!æ ¹æ®æç¤º,è®¾ç½®devå’Œorigin/devçš„é“¾æ¥,ä¿®æ”¹å¥½å†²çªå†æ¨é€.
$ git branch --set-upstream-to=origin/dev dev 
$ git push origin dev    
```

```js
//å¤šäººåœ¨åŒä¸€ä¸ªåˆ†æ”¯ä¸Šåä½œæ—¶,å¾ˆå®¹æ˜“å‡ºç°å†²çªã€‚å³ä½¿æ²¡æœ‰å†²çª,åpushçš„ç«¥é‹ä¸å¾—ä¸å…ˆpull,åœ¨æœ¬åœ°åˆå¹¶,ç„¶åæ‰èƒ½pushæˆåŠŸã€‚Gitæœ‰ä¸€ç§ç§°ä¸ºrebaseçš„æ“ä½œ,æœ‰äººæŠŠå®ƒç¿»è¯‘æˆâ€œå˜åŸºâ€
$ git rebase //æŠŠåˆ†å‰çš„æäº¤å†å²â€œæ•´ç†â€æˆä¸€æ¡ç›´çº¿,çœ‹ä¸Šå»æ›´ç›´è§‚,ä½†æˆ‘è§‰å¾—å¹¶æ²¡ä»€ä¹ˆåµç”¨ã€‚
```

